---
title: "team"
author: "Alicia Hauglie & Samuel Cole"
date: "2/19/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
data(happy, package="productplots")
head(happy)
HAPPY <- readRDS("HAPPY.rds")
```

finrela <- opinion of family income
polviews <- think of self as liberal or conservative
wttsall <- weight variable
Inapplicable (IAP) <- respondents who are not asked to answer a specific question 

1. Data cleaning: the values “IAP”, “DK” and “NA” all encode missing values. Replace all of these instances by the value NA.
```{r}
library(dplyr)
library(ggplot2)
HAPPY[HAPPY == "IAP"] <- NA
HAPPY[HAPPY == "DK"] <- NA
HAPPY[HAPPY == "NA"] <- NA
```

2. Check the type of the variable and cast into the right type (factor variable for categorical variables). For age, change “89 OR OLDER” to 89 and assume the variable should be numeric. (Hint: see ?as.character and ?as.numeric)
```{r}
HAPPY <- HAPPY %>% mutate_if(is.character, as.factor) %>% mutate(AGE = recode(AGE, "89 OR OLDER" = "89")) %>% mutate(AGE = as.numeric(levels(AGE)[AGE]))
str(HAPPY$AGE)
```
3. Bring all levels of factors into a sensible order. For marital you could e.g. order the levels according to average age.

```{r}
HAPPY <- HAPPY %>% mutate(MARITAL = factor(MARITAL, levels = c("NEVER MARRIED", "MARRIED", "SEPARATED", "DIVORCED", "WIDOWED"))) %>% arrange(desc(MARITAL))

 HAPPY <- HAPPY %>% mutate( HAPPY= factor(HAPPY, levels = c("NOT TOO HAPPY", "PRETTY HAPPY", "VERY HAPPY"))) %>% arrange(desc(HAPPY))
 
HAPPY <- HAPPY %>%
  mutate( DEGREE= factor(DEGREE, 
                          levels = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE"))) %>% arrange(desc(DEGREE))

HAPPY <- HAPPY %>%
  mutate( FINRELA= factor(FINRELA, 
                          levels = c("FAR BELOW AVERAGE", "BELOW AVERAGE", "AVERAGE", "ABOVE AVERAGE", "FAR ABOVE AVERAGE"))) %>% 
  arrange(desc(FINRELA))

HAPPY <- HAPPY %>%
  mutate( HEALTH= factor(HEALTH, 
                          levels = c("POOR ", "FAIR", "GOOD", "EXCELLENT"))) %>% arrange(desc(HEALTH))

HAPPY <- HAPPY %>%
  mutate( PARTYID= factor(PARTYID, 
                          levels = c("STRONG DEMOCRAT", "NOT STR DEMOCRAT", "IND,NEAR DEM", "INDEPENDENT", "IND,NEAR REP", "NOT STR REPUBLICAN","STRONG REPUBLICAN", "OTHER PARTY"))) %>% arrange(desc(PARTYID))

HAPPY <- HAPPY %>%
  mutate( POLVIEWS= factor(POLVIEWS, 
                          levels = c("EXTREMELY LIBERAL", "LIBERAL", "SLIGHTLY LIBERAL", "MODERATE", "SLIGHTLY CONSERVATIVE", "CONSERVATIVE","EXTRMELY CONSERVATIVE"))) %>% arrange(desc(POLVIEWS))
levels(HAPPY$POLVIEWS)
```

 **PART TWO**
1. Investigate the distributions of 2 different variables.
```{r}
ggplot(HAPPY, aes(x= HAPPY)) + geom_bar( aes(fill=..count..)) + scale_fill_gradient("Count", low="green", high ="red") 
```
This graph shows the overall distribution of happiness without accounting for any other variable. We can easily see, by the color, that PRETTY HAPPY, is the most selected choice, and VERY HAPPY is the second most selected choice. This makes sense to me, as people want to be happy, so the distribution would favor the happy side. So overall, we can see that around half of the participants chose PRETTY HAPPY as there level of happiness. 
2. Investigate the relationship between happiness and three other variables in the data.
```{r}

```
3. What do you learn from the data set? Write one or two paragraphs to describe.
```{r}

```
Explore the dataset yourself, and then discuss and refine answers as a team.

